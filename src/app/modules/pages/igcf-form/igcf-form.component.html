<div class="mt-4 bg-white">
    <mat-tab-group dynamicHeight>
        <mat-tab label="I. BALANCED SCORECARD PERSPECTIVES AND KEY PERFORMANCE INDICATORS">
            <div class="p-4">
                <div class="px-8">
                    <header class="font-bold">
                        <h2>GUIDELINES:</h2>
                    </header>
                    <ol class="grid gap-1 list-decimal">
                        <li class="max-w-[90ch]">This form is to be filled out by the Ratee (subordinate), if necessary,
                            with the help of the
                            Rater
                            (superior) on the
                            first month of every academic year, and to be submitted to HRD towards the end of the
                            indicated
                            school
                            year.</li>
                        <li class="max-w-[90ch]">Please indicate corresponding weight of every KPI, maintaining a sum of
                            100 for all listed
                            KPIs
                            or
                            the four
                            perspectives as reflected in the department’s/ unit’s Balanced Scorecard.</li>
                        <li>Individual Goal Commitment is target contribution of the employee to attain the department’s
                            objective. Must be
                            measurable.</li>
                        <li>Accomplishment is actual output of the employee in terms of his/her individual goal
                            commitment.
                        </li>
                    </ol>
                </div>

                <ng-container ainer *ngIf=" ((userRole$ | async)  === 'Regular')">
                    <div class="mt-4 ml-4 ">
                        <mat-form-field>
                            <mat-label>Select %</mat-label>
                            <mat-select [formControl]="percentagesCtrl" (selectionChange)="updateIgcfPercentages()">
                                <mat-option>--None--</mat-option>
                                <mat-option *ngFor="let unfilteredIgcfPercentage of unfilteredIgcfPercentages"
                                    [value]="unfilteredIgcfPercentage.id">{{unfilteredIgcfPercentage.title}}</mat-option>
                            </mat-select>
                            <mat-hint align="start">Choose a percentage set</mat-hint>
                        </mat-form-field>
                    </div>
                </ng-container>


                <app-part-one-form [controlNames]="controlNames" [headers]="tableHeaders" [tableRows]="tableRows"
                    [stepLabel]="partOneStepLabel" [groupCounts]="groupCounts" [formArrayNames]="partOneFormArrayNames"
                    [percentages]="igcfPercentages"></app-part-one-form>
            </div>
        </mat-tab>
        <mat-tab label="II. OBSERVATION AND RECOMMENDATIONS. PLEASE ACCOMPLISH ALL ITEMS BELOW.">
            <app-part-two-form [stepLabel]="partTwoStepLabel"></app-part-two-form>
        </mat-tab>

    </mat-tab-group>
    <div class="grid gap-4 p-4" [ngClass]="{'grid-cols-2':!isSigned,'grid-cols-1':isSigned}">
        <ng-container *ngIf="!isSigned">
            <button
                class="px-4 py-2 text-white transition-colors duration-500 ease-in-out bg-black rounded-md hover:bg-green-700"
                (click)="submit()">{{( userRole$ | async) === "Regular"? 'Submit':'Signed'}}</button>
        </ng-container>
        <button
            class="px-4 py-2 text-white transition-colors duration-500 ease-in-out bg-black rounded-md hover:bg-red-500"
            (click)="exit()">Exit</button>
    </div>

</div>